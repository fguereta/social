{% extends "index.html" %} 
{% block htitle %}<title>Registrar Paciente</title>{% endblock %} 

 
{% block contenido %} 
	
<div class='container'>
    <div class='panel panel-primary dialog-panel'>
      <div class='panel-heading'>
        <h5>Nuevo paciente</h5>
      </div>
      <div class='panel-body'>
        <form  id="miForm" method="post" enctype="multipart/form-data" class="form-horizontal">{% csrf_token %}
        <div class='form-group'>
            <label class='control-label col-md-2 col-md-offset-2' for='dni'>Dni*</label>
            <div class='col-md-2'>
              <input class='form-control' id='dni' name='dni'></input>
            </div>

            <div class='col-md-2'>
              <div class='btn btn-primary' id='comprobar'>Comprobar</div>
            </div>
        </div>

          {% if error %}
          {% for elemento in error %}
          <div class='form-group'>

       
             <label class='control-label col-md-5 col-md-offset-3' >{{elemento}}</label>
          
             
            
          </div>
          {% endfor %}
        {% endif %}
          
         <div class='form-group'>
            <label class='control-label col-md-2 col-md-offset-2' for='cuil'>Cuil</label>
            <div class='col-md-2'>
              <input class='form-control' id='cuil' name='cuil'></input>
            </div>
        </div>
          
        <div class='form-group'>
            <label class='control-label col-md-2 col-md-offset-2' for='historialclinica'>Historia clinica*</label>
            <div class='col-md-2'>
              <input class='form-control' id='historiaclinica' name='historiaclinica'></input>
            </div>
        </div>

        <div class='form-group'>
            <label class='control-label col-md-2 col-md-offset-2' for='osocial'>Obra social*</label>
            <div class='col-md-2'>
              <input class='form-control' id='osocial' name='osocial'></input>
            </div>
        </div>

        <div class='form-group'>
            <label class='control-label col-md-2 col-md-offset-2' for='nombre'>Nombre*</label>
            <div class='col-md-8'>
              
              <div class='col-md-4 indent-small'>
                <div class='form-group internal'>
                  <input class='form-control' id='nombre' name="nombre" placeholder='Nombre' type='text'>
                </div>
              </div>
              <div class='col-md-4 indent-small'>
                <div class='form-group internal'>
                  <input class='form-control' id='apellido' name="apellido" placeholder='Apellido' type='text'>
                </div>

              </div>
            </div>
          </div>
          
 		<div class='form-group'>
            <label class='control-label col-md-2 col-md-offset-2' for='direccion'>Dirrecion*</label>
            <div class='col-md-3'>
              <input class='form-control' id='direccion' name='direccion' placeholder="Direccion"></input>
            </div>
          </div>

         <div class='form-group'>
            <label class='control-label col-md-2 col-md-offset-2' for='telefono'>Telefono</label>
            <div class='col-md-8'>
            	<div class='col-md-3 indent-small'>
            		<div class='form-group internal'>
             			<input class='form-control' id='telefono' name="telefono" placeholder='Telefono' type='text'>
             		</div>	
            	</div>
           		<div class='col-md-3 indent-small'>
            		<div class='form-group internal'>
             			<input class='form-control' id='celular' name="celular" placeholder='Alternativo' type='text'>
             		</div>	
            	</div>
            </div>
         </div>
          
          <div class='form-group'>
            <label class='control-label col-md-2 col-md-offset-2' for='nacimineto'>Fecha de nacimiento*</label>
            <div class='col-md-8'>
              
              <div class='col-md-3'>
                <div class='form-group internal input-group'>
                  <input class='form-control datepicker' name="nacimiento "id='datepicker'>
                  <span class='input-group-addon'>
                    <i class='glyphicon glyphicon-calendar'></i>
                  </span>
                </div>
              </div>
             <div class="col-md-3 sexo">
				<select class="form-control" id="sexo" name="sexo">
					<option value="">---sexo---</option>
					<option value="MASCULINO">Masculino</option>
					<option value="FEMENINO">Femenino</option>
				</select>
			</div>
	
            </div>
          </div>

          <div class='form-group'>
            <label class='control-label col-md-2 col-md-offset-2' for='correo'>E-mail</label>
            <div class='col-md-6'>
              <div class='form-group'>
                <div class='col-md-11'>
                  <input class='form-control' id='correo' name='correo' placeholder='E-mail' type='text'>
                </div>
            	</div>
           	</div>
          </div>
          
        <div class='form-group'>
            <label class='control-label col-md-2 col-md-offset-2' for='id_comments'>Observaciones</label>
            <div class='col-md-6'>
              <textarea class='form-control' id='observaciones' name='observaciones' placeholder='Escribe aqui...' rows='3'></textarea>
            </div>
          </div>
         <div class='form-group'>
           	<div class='col-md-offset-9 col-md-3'>
           	  <br>
              <button class='btn-lg btn-danger' style='float:right' type='submit'>Cancelar</button>
              <button class='btn-lg btn-primary' style='float:right' type='submit'>Guardar</button>
            </div>
  		  </div>
        
        </form>
      </div>
    </div>
  </div>

<script>


$('#datepicker').datepicker({ dateFormat: 'dd/mm/yy' });
    $.datepicker.regional[ "es" ]
    
	$("#miForm").validate({
		rules: {
	      	nombre: {
	        	required: true,
	        	lettersonly: true
	      	},
	      	apellido: {
	        	required: true,
	        	lettersonly: true
	      	},
	      	dni: {
	        	required: true,
	        	digits: true,
	        	minlength: "8",
	        	maxlength: "8"
	      	},
	      	cuil: {
	        	required: true,
	        	digits: true,
	        	minlength: "10",
	        	maxlength: "11"
	      	},
	      	nacimiento: {
	        	required: true,
	        	date: true
	      	},
	      	correo: {
	        	email: true
	      	},
	      	direccion: {
	        	required: true
	      	},
	      	telefono: {
	        	required: true,
	        	digits: true
	      	},
	      	celular: {
	        	digits: true
	      	},
	      	sexo: {
	        	required: true
	      	},
	      	historiaclinica: {
	        	required: true
	      	},
	      	osocial: {
	        	lettersonly: true
	      	}
		},
	messages: {
		nombre: {
  			lettersonly: "Escribe sólo letras"
	  	},
	  	apellido: {
  			lettersonly: "Escribe sólo letras"	    
	  	},
	  	osocial: {
  			lettersonly: "Escribe sólo letras"	    
	  	}
		},
	highlight: function (element) {
            $(element).closest('.miForm').addClass('has-error');
        },
    unhighlight: function (element) {
            $(element).closest('.miForm').removeClass('has-error');
        },
	});
</script>

{% endblock %} 